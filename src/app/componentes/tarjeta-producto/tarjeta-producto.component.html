<div class="card tarjeta-producto sombra-suave borde-claro rounded-3 overflow-hidden">
  <a [routerLink]="['/componentes', producto.id]" class="text-decoration-none text-dark">
    <img *ngIf="!imagenFallida[producto.id]" [src]="apiUrl + '/componentes/' + producto.id + '/imagen'"
      (error)="marcarImagenComoFallida(producto.id)" class="card-img-top img-fluid"
      [alt]="'Imagen de ' + producto.nombre" />

    <img *ngIf="imagenFallida[producto.id]" src="assets/img/imagen-no-disponible.webp" class="card-img-top img-fluid"
      alt="Imagen por defecto" />

  </a>

  <div class="card-body d-flex flex-column">
    <a [routerLink]="['/componentes', producto.id]" class="text-decoration-none text-dark">
      <h5 class="card-title mb-2 fw-bold">{{ producto.nombre }}</h5>
    </a>

    <p class="card-text text-muted small flex-grow-1">
      {{ producto.descripcion || 'Descripción no disponible' }}
    </p>

    <p class="fw-bold mb-3">{{ producto.precio | currency:'EUR':'symbol':'1.2-2':'es-ES' }}</p>

    <div class="d-flex justify-content-between align-items-center">
      <a [routerLink]="['/componentes', producto.id]" class="btn btn-sm btn-primario">
        Ver detalle
      </a>
      <button class="btn btn-sm btn-secundario" (click)="agregarAlCarrito($event)">
        Añadir al carrito
      </button>
    </div>
  </div>
</div>