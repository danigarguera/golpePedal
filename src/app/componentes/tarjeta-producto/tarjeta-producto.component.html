<!-- Toda la tarjeta será clicable excepto los botones individuales -->
  <img *ngIf="!imagenFallida[producto.id]" [src]="apiUrl + '/componentes/' + producto.id + '/imagen'"
    (click)="irADetalle($event)" (error)="marcarImagenComoFallida(producto.id)" class="card-img-top img-fluid"
    [alt]="'Imagen de ' + producto.nombre" style="cursor: pointer;" />

  <img *ngIf="imagenFallida[producto.id]" src="assets/img/imagen-no-disponible.webp" (click)="irADetalle($event)"
    class="card-img-top img-fluid" alt="Imagen por defecto" style="cursor: pointer;" />


  <div class="card-body d-flex flex-column">
    <h5 class="card-title mb-2 fw-bold">{{ producto.nombre }}</h5>

    <p class="card-text text-muted small flex-grow-1">
      {{ producto.descripcion || 'Descripción no disponible' }}
    </p>

    <p class="fw-bold mb-3">{{ producto.precio | currency:'EUR':'symbol':'1.2-2':'es-ES' }}</p>

    <div class="d-flex justify-content-between align-items-center">
      <button class="btn btn-sm btn-primario" (click)="irADetalle($event)">
        Ver detalle
      </button>
      <button class="btn btn-sm btn-secundario" (click)="agregarAlCarrito($event)">
        Añadir al carrito
      </button>
    </div>
  </div>
