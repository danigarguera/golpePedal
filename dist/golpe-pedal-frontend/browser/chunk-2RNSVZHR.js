import{a as B}from"./chunk-ATC3HXFD.js";import{B as c,Ba as N,C as I,Da as j,G as f,J as g,M as n,N as i,O as l,R as _,S as C,T as b,V as y,W as t,X as s,Y as d,_ as D,ea as u,ga as m,ha as P,ia as v,ja as V,q as S,qa as w,r as h,ra as R,sa as F,ta as O,ua as T,z as a}from"./chunk-YAXSTRSO.js";var E=o=>[o,"EUR","symbol","1.2-2","es-ES"];function M(o,r){if(o&1&&(n(0,"tr")(1,"td"),t(2),i(),n(3,"td",19),t(4),i(),n(5,"td",20),t(6),m(7,"currency"),i(),n(8,"td",20),t(9),m(10,"currency"),i()()),o&2){let e=r.$implicit;a(2),s(e.nombre),a(2),s(e.cantidad),a(2),s(v(7,4,u(16,E,e.precioUnitario))),a(3),d("",v(10,10,u(18,E,e.precioUnitario*e.cantidad))," ")}}function A(o,r){if(o&1){let e=_();n(0,"div",2)(1,"div",3)(2,"h2",4),t(3),i(),n(4,"button",5),C("click",function(){S(e);let x=b();return h(x.imprimir())}),l(5,"i",6),t(6," Imprimir "),i()(),n(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"p")(12,"strong"),t(13,"Fecha:"),i(),t(14),m(15,"date"),i(),n(16,"p")(17,"strong"),t(18,"Estado:"),i(),t(19),i(),l(20,"hr",11),n(21,"h5"),t(22,"Cliente"),i(),n(23,"p",12),t(24),l(25,"br"),t(26),l(27,"br"),t(28),i()()()(),n(29,"div",13),l(30,"img",14),i()(),n(31,"h5",15),t(32,"Componentes"),i(),n(33,"div",16)(34,"table",17)(35,"thead",18)(36,"tr")(37,"th"),t(38,"Producto"),i(),n(39,"th",19),t(40,"Cantidad"),i(),n(41,"th",20),t(42,"Precio unitario"),i(),n(43,"th",20),t(44,"Subtotal"),i()()(),n(45,"tbody"),f(46,M,11,20,"tr",21),i()()(),n(47,"div",22)(48,"h5"),t(49),m(50,"currency"),i()(),n(51,"div",23),t(52," Gracias por confiar en Golpe de Pedal"),l(53,"br"),t(54," Si tienes dudas sobre tu pedido, cont\xE1ctanos en soporte@golpedepedal.com "),i()()}if(o&2){let e=b();a(3),d("Detalle de Venta #",e.pedido.id,""),a(11),d(" ",P(15,10,e.pedido.fecha,"short"),""),a(5),d(" ",e.pedido.estado,""),a(5),D(" ",e.pedido.usuario.nombre," ",e.pedido.usuario.apellido1," ",e.pedido.usuario.apellido2,""),a(2),d(" ",e.pedido.usuario.email,""),a(2),d(" ",e.pedido.usuario.telefono," "),a(18),g("ngForOf",e.pedido.lineas),a(3),d("Total: ",v(50,13,u(19,E,e.pedido.total)),"")}}function G(o,r){o&1&&(n(0,"div",24),t(1,"Cargando venta..."),i())}var k=class o{constructor(r,e,p){this.route=r;this.router=e;this.pedidoService=p}pedido=null;ngOnInit(){let r=this.router.getCurrentNavigation()?.extras?.state;if(r?.pedido)this.pedido=r.pedido;else{let e=this.route.snapshot.paramMap.get("id");e?this.pedidoService.getPedidoPorId(+e).subscribe({next:p=>this.pedido=p,error:()=>{alert("No se pudo cargar la venta"),this.router.navigate(["/dashboard"])}}):(alert("ID de venta no v\xE1lido"),this.router.navigate(["/dashboard"]))}}imprimir(){window.print()}static \u0275fac=function(e){return new(e||o)(c(N),c(j),c(B))};static \u0275cmp=I({type:o,selectors:[["app-detalle-venta"]],decls:3,vars:2,consts:[["cargando",""],["class","container py-4",4,"ngIf","ngIfElse"],[1,"container","py-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"texto-grande","fw-bold"],[1,"btn","btn-outline-dark","d-print-none",3,"click"],[1,"bi","bi-printer"],[1,"row","g-4"],[1,"col-md-8"],[1,"card","sombra-suave","borde-claro","mb-4"],[1,"card-body"],[1,"my-3"],[1,"mb-2"],[1,"col-md-4","d-flex","justify-content-center","align-items-start"],["src","assets/logos/LogoNaranjaBueno.png","alt","Logo Golpe de Pedal",1,"logo-factura"],[1,"mt-4"],[1,"table-responsive"],[1,"table","table-bordered","table-sm","align-middle"],[1,"table-light"],[1,"text-center"],[1,"text-end"],[4,"ngFor","ngForOf"],[1,"text-end","mt-3"],[1,"text-center","text-muted","small","mt-4"],[1,"alert","alert-warning","mt-4"]],template:function(e,p){if(e&1&&f(0,A,55,21,"div",1)(1,G,2,0,"ng-template",null,0,V),e&2){let x=y(2);g("ngIf",p.pedido)("ngIfElse",x)}},dependencies:[T,w,R,O,F],encapsulation:2})};export{k as DetalleVentaComponent};
