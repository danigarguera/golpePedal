import{a as V}from"./chunk-ATC3HXFD.js";import{B as m,Ba as T,C as _,Da as N,G as s,J as u,M as n,N as i,O as l,R as h,S as P,T as x,W as t,X as v,Y as a,Z as C,_ as g,ea as b,ga as c,ha as w,ia as f,q as I,qa as D,r as E,ra as y,sa as F,ta as R,ua as O,z as o}from"./chunk-YAXSTRSO.js";var S=d=>[d,"EUR","symbol","1.2-2","es-ES"];function k(d,r){if(d&1&&(n(0,"span"),t(1),i()),d&2){let e=x(2);o(),a(", piso ",e.pedido.direccion.piso,"")}}function M(d,r){if(d&1&&(n(0,"tr")(1,"td"),t(2),i(),n(3,"td",21),t(4),i(),n(5,"td",22),t(6),c(7,"currency"),i(),n(8,"td",22),t(9),c(10,"currency"),i()()),d&2){let e=r.$implicit;o(2),v(e.nombre),o(2),v(e.cantidad),o(2),v(f(7,4,b(16,S,e.precioUnitario))),o(3),a(" ",f(10,10,b(18,S,e.precioUnitario*e.cantidad))," ")}}function A(d,r){if(d&1){let e=h();n(0,"div",1)(1,"div",2)(2,"h2",3),t(3),i(),n(4,"button",4),P("click",function(){I(e);let B=x();return E(B.imprimir())}),l(5,"i",5),t(6," Imprimir "),i()(),n(7,"div",6)(8,"p")(9,"strong"),t(10,"Fecha:"),i(),t(11),c(12,"date"),i(),n(13,"p")(14,"strong"),t(15,"Estado:"),i(),t(16),i()(),n(17,"div",7)(18,"div",8)(19,"div",9)(20,"h5",10),t(21,"Datos del cliente"),i(),n(22,"p"),t(23),l(24,"br"),t(25),l(26,"br"),t(27),i(),n(28,"h5",11),t(29,"Direcci\xF3n de env\xEDo"),i(),n(30,"address",12),t(31),l(32,"br"),t(33),s(34,k,2,1,"span",13),l(35,"br"),t(36),l(37,"br"),t(38),i()()(),n(39,"div",14),l(40,"img",15),i()(),n(41,"div",16)(42,"div",17),t(43,"Productos"),i(),n(44,"div",18)(45,"table",19)(46,"thead",20)(47,"tr")(48,"th"),t(49,"Producto"),i(),n(50,"th",21),t(51,"Cantidad"),i(),n(52,"th",22),t(53,"Precio unitario"),i(),n(54,"th",22),t(55,"Subtotal"),i()()(),n(56,"tbody"),s(57,M,11,20,"tr",23),i()()()(),n(58,"div",24)(59,"h5",25),t(60),c(61,"currency"),i()(),n(62,"div",26),t(63," Gracias por confiar en Golpe de Pedal"),l(64,"br"),t(65," Si tienes dudas sobre tu pedido, cont\xE1ctanos en soporte@golpedepedal.com "),i()()}if(d&2){let e=x();o(3),a("Factura del pedido #",e.pedido.id,""),o(8),a(" ",w(12,18,e.pedido.fecha,"short"),""),o(5),a(" ",e.pedido.estado,""),o(7),g(" ",e.pedido.usuario.nombre," ",e.pedido.usuario.apellido1," ",e.pedido.usuario.apellido2,""),o(2),a(" ",e.pedido.usuario.email,""),o(2),a(" ",e.pedido.usuario.telefono," "),o(4),a(" ",e.pedido.direccion.alias,""),o(2),C(" ",e.pedido.direccion.calle,", ",e.pedido.direccion.numero," "),o(),u("ngIf",e.pedido.direccion.piso),o(2),g(" ",e.pedido.direccion.codigoPostal," ",e.pedido.direccion.ciudad," (",e.pedido.direccion.provincia,")"),o(2),a(" ",e.pedido.direccion.pais," "),o(19),u("ngForOf",e.pedido.lineas),o(3),a(" Total: ",f(61,21,b(27,S,e.pedido.total))," ")}}var j=class d{constructor(r,e,p){this.route=r;this.router=e;this.pedidoService=p}pedido=null;ngOnInit(){let r=this.router.getCurrentNavigation()?.extras?.state;if(r?.pedido)this.pedido=r.pedido;else{let e=this.route.snapshot.paramMap.get("id");e?this.pedidoService.getPedidoPorId(+e).subscribe({next:p=>this.pedido=p,error:()=>{alert("No se pudo cargar el pedido"),this.router.navigate(["/area-personal/pedidos"])}}):(alert("Pedido no v\xE1lido"),this.router.navigate(["/"]))}}imprimir(){window.print()}static \u0275fac=function(e){return new(e||d)(m(T),m(N),m(V))};static \u0275cmp=_({type:d,selectors:[["app-detalle-pedido"]],decls:1,vars:1,consts:[["class","container mt-4",4,"ngIf"],[1,"container","mt-4"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"texto-grande","fw-bold"],[1,"btn","btn-outline-dark","d-print-none",3,"click"],[1,"bi","bi-printer"],[1,"mb-3"],[1,"row","align-items-start","mb-4","datos-impresion"],[1,"col-12","col-md-8","cliente-info"],[1,"p-3","rounded","border","bg-white"],[1,"fw-semibold"],[1,"fw-semibold","mt-4"],[1,"mb-0"],[4,"ngIf"],[1,"col-12","col-md-4","text-md-end","text-center","mt-4","mt-md-0"],["src","assets/logos/LogoNaranjaBueno.png","alt","Logo Golpe de Pedal",1,"logo-factura"],[1,"card","sombra-suave","borde-claro","rounded-3","mb-4"],[1,"card-header","bg-light","fw-semibold"],[1,"card-body","p-0"],[1,"table","table-bordered","table-sm","mb-0"],[1,"table-light"],[1,"text-center"],[1,"text-end"],[4,"ngFor","ngForOf"],[1,"text-end","mb-4"],[1,"fw-bold"],[1,"text-center","text-muted","small","mt-4"]],template:function(e,p){e&1&&s(0,A,66,29,"div",0),e&2&&u("ngIf",p.pedido)},dependencies:[O,D,y,R,F],encapsulation:2})};export{j as DetallePedidoComponent};
